<!DOCTYPE html>
<html>
<head>
  <title>Pagination</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <style>
    .pagination {
      display: inline-block;
    }
  
    .pagination a {
      color: black;
      float: left;
      padding: 8px 16px;
      text-decoration: none;
    }
  
    .pagination a.active {
      background-color: #4CAF50;
      color: white;
    }
  
    .pagination a:hover:not(.active) {
      background-color: #ddd;
    }
  </style>
</head>
<body>
  <div id="tab-2">
    <table id="myTable" border="1">
      <thead>
        <tr>
          <th>Id</th>
          <th>Name</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <div class="pagination"></div>
  </div>

  <script>
    var data = [
      { id: 1, name: 'John' },
      { id: 2, name: 'Jane' },
      { id: 3, name: 'David' },
      { id: 4, name: 'Alice' },
      { id: 5, name: 'Bob' },
      { id: 6, name: 'Eve' },
      { id: 7, name: 'Frank' },
      { id: 8, name: 'Grace' },
      { id: 9, name: 'Henry' },
      { id: 10, name: 'Ivy' },
      { id: 11, name: 'Jack' },
      { id: 12, name: 'Kelly' },
      { id: 13, name: 'Leo' },
      { id: 14, name: 'Mia' },
      { id: 15, name: 'Nathan' },
      { id: 16, name: 'Olivia' },
      { id: 17, name: 'Patrick' },
      { id: 18, name: 'Queen' },
      { id: 19, name: 'Ryan' },
      { id: 20, name: 'Sarah' }
    ];
  
    var perPage = 5;
    var page = 1;
    var filteredData = [];
  
    $(document).ready(function () {
      filteredData = data.slice();
      renderTable(filteredData);
      renderPagination(filteredData);
    });
  
    function renderTable(data) {
      $("#myTable tbody").empty();
      var start = (page - 1) * perPage;
      var end = start + perPage;
      var objJson = data.slice(start, end);
  
      for (var i = 0; i < objJson.length; i++) {
        var id = objJson[i].id;
        var name = objJson[i].name;
  
        $("#myTable tbody").append("<tr><td>" + id + "</td><td>" + name + "</td></tr>");
      }
    }
  
    function numPages(data) {
      return Math.ceil(data.length / perPage);
    }
  
    function renderPagination(data) {
      var pageLinks = '';
      var totalPages = numPages(data);
  
      if (totalPages <= 7) {
        for (var i = 1; i <= totalPages; i++) {
          pageLinks += '<a href="#" onclick="changePage(' + i + ', objJson)">' + i + '</a>';
        }
      } else {
        if (page <= 4) {
          for (var i = 1; i <= 5; i++) {
            pageLinks += '<a href="#" onclick="changePage(' + i + ', objJson)">' + i + '</a>';
          }
          pageLinks += '... ';
          pageLinks += '<a href="#" onclick="changePage(' + totalPages + ', objJson)">' + totalPages + '</a>';
        } else if (page >= totalPages - 3) {
          pageLinks += '<a href="#" onclick="changePage(1, objJson)">1</a>';
          pageLinks += '... ';
          for (var i = totalPages - 4; i <= totalPages; i++) {
            pageLinks += '<a href="#" onclick="changePage(' + i + ', objJson)">' + i + '</a>';
          }
        } else {
          pageLinks += '<a href="#" onclick="changePage(1, objJson)">1</a>';
          pageLinks += '... ';
          for (var i = page - 1; i <= page + 1; i++) {
            pageLinks += '<a href="#" onclick="changePage(' + i + ', objJson)">' + i + '</a>';
          }
          pageLinks += '... ';
          pageLinks += '<a href="#" onclick="changePage(' + totalPages + ', objJson)">' + totalPages + '</a>';
        }
      }
  
      $(".pagination").empty();
      $(".pagination").append('<a href="#" id="btnPrev">Trước</a> ');
      $(".pagination").append(pageLinks);
      $(".pagination").append(' <a href="#" id="btnNext">Sau</a>');
      $(".pagination").find('a').removeClass('active');
      $(".pagination").find('a:contains("' + page + '")').addClass('active');
    }
  
    function changePage(newPage, data) {
      if (newPage < 1) newPage = 1;
      else if (newPage > numPages(data)) newPage = numPages(data);
  
      page = newPage;
      renderTable(data);
      renderPagination(data);
    }
  
    $("#btnPrev").click(function () {
      changePage(page - 1, filteredData);
    });
  
    $("#btnNext").click(function () {
      changePage(page + 1, filteredData);
    });
  </script>
</body>
</html>
