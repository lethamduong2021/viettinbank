<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        html {
            font-size: 62.5%;
        }

        /* header */
        .header {
            display: flex;
            justify-content: space-between;
        }

        .title {
            font-weight: 500;
            font-size: 2.9rem;
            line-height: 3.7rem;
            margin-bottom: 1.7rem;
        }

        .progress-bar {
            font-weight: 400;
            font-size: 1.4rem;
            line-height: 1.8rem;
            color: #323338;
            display: flex;
            flex-direction: column;
        }

        .right>input[type="submit"] {
            color: #fff;
            height: 4.2rem;
            background-color: #007AFF;
            border-radius: 0.4rem;
            padding-left: 1rem;
            border: none;
            outline: none;
        }

        /* tab */
        .tab-container {
            width: 100%;
            overflow: hidden;
            margin-top: 2rem;
        }

        .tab-header {
            display: flex;
            height: 4.4rem;
            width: 40%;
        }

        .tab-button {
            font-weight: 500;
            font-size: 1.6rem;
            line-height: 2rem;
            background-color: #fff;
            color: #787486;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 1rem 1.5rem;
            flex: 1;
            vertical-align: center;
            text-align: center;
            transition: background-color 0.3s;
            display: flex;
            justify-content: space-around;
            padding-top: 1.5rem;
            border-radius: 0.4rem;
        }

        .tab-button>.tab-number {
            font-size: 1.1rem;
            color: #fff;
            background: #787486;
            border-radius: 0.9rem;
            padding: 0 0.7rem;
        }

        .tab-button.active>.tab-number {
            color: #fff;
            background: #4483F7;
        }

        .tab-button:hover {
            background-color: #ddd;
        }

        .tab-button.active {
            background-color: rgba(68, 131, 247, 0.1);
            color: #4483F7;
        }

        .tab-content {
            display: none;
            padding-top: 2rem;
        }

        .tab-content h2 {
            margin-top: 0;
        }

        /* search-icon */

        .input-icon {
            position: relative;
            flex: 1;
            align-items: center;
        }

        .input-icon input {
            width: 85%;
            padding-right: 4rem;
            height: 3.2rem;
            background: #F7F8F9;
            border-radius: 1rem;
            outline: none;
            border: none;
            padding-left: 2rem;
            font-weight: 400;
            font-size: 1.6rem;
            line-height: 2rem;
            color: #B6B6B6;
        }

        .input-icon i {
            position: absolute;
            top: 40%;
            /* right: 10px; */
            left: 85%;
            transform: translateY(-50%);
        }

        /* filter */
        .filter {
            display: flex;
            width: 100%;
        }

        .filter-select {
            flex: 1;
            display: flex;
            align-items: center;
        }

        .filter-select>span {
            font-weight: 700;
            font-size: 1.4rem;
            line-height: 1.6rem;
            color: #000000;
            margin-right: 1.6rem;
        }

        .filter-select>select {
            height: 4rem;
            left: 972px;
            background: #fff;
            border: 0.1rem solid #EBECF0;
            border-radius: 0.8rem;
            outline: none;
            width: 25rem;
        }

        .filter-button {
            flex: 2
        }

        .filter-button>* {
            width: 10.8rem;
            height: 3.6rem;
            background: #F1F5FE;
            border-radius: 0.8rem;
            border: none;
            outline: none;
            margin-right: 2.2rem;
            font-weight: 600;
            font-size: 1.4rem;
            line-height: 1.6rem;
        }

        .filter-button>*:first-child {
            color: #4B7BEC;
            background-color: #F1F5FE;
        }

        .filter-button>*:last-child {
            color: #fff;
            background-color: #4B7BEC;
        }

        button>span>i {
            margin-right: 0.8rem;
        }

        /* card */
        .card {
            width: 100%;
            display: flex;
            flex-wrap: wrap;
            /* justify-content: spabetweence-; */
            align-items: center;
            margin-top: 3.5rem;
            column-gap: 20px;
        }

        .card-item {
            width: calc(100% / 4 - 30px);
            height: 20rem;
            position: relative;
            margin-bottom: 40px;
        }

        .card-header {
            font-weight: 600;
            font-size: 1.2rem;
            line-height: 1.5rem;
            height: 2rem;
            width: max-content;
            color: #fff;
            border-radius: 0.4rem;
            padding: 0.2rem 0.8rem;
            margin-left: 1.5rem;
            position: absolute;
            z-index: 2
        }

        .card-item:first-child>.card-header,
        .card-item:nth-child(5)>.card-header {
            background-color: #5AC3DD;
        }

        .card-item:nth-child(2)>.card-header,
        .card-item:nth-child(6)>.card-header {
            background-color: #007AFF;
        }

        .card-item:nth-child(3)>.card-header,
        .card-item:nth-child(7)>.card-header {
            background-color: #5687E6;
        }

        .card-item:nth-child(4)>.card-header,
        .card-item:nth-child(8)>.card-header {
            background-color: #4698A3;
        }

        .card-body {
            background: #F9F9F9;
            border-radius: 1rem;
            width: 100%;
            height: 95%;
            position: absolute;
            top: 1rem;
            z-index: 1;
        }

        .card-link {
            height: 1.8rem;
            margin-top: 2rem;
            margin-right: 1.1rem;
            margin: 2rem 1.1rem 0 0;
            display: flex;
            justify-content: flex-end;
            font-weight: 800;
            font-size: 1.4rem;
            line-height: 1.8rem;
            color: #0D062D;
        }

        .card-info {
            display: flex;
            flex-direction: column;
            height: 35%;
            padding: 0 1.2rem 0 2.1rem;

        }

        .card-title>span:first-child {
            font-weight: 600;
            font-size: 1.6rem;
            line-height: 2.1rem;
            color: #0D062D;
            margin-bottom: 0.8rem;
        }

        .card-status {
            margin-top: 4rem;
            width: max-content;

        }

        .card-status>span {
            font-weight: 600;
            font-size: 1rem;
            line-height: 1.2rem;
            max-height: 1.6rem;
            border-radius: 0.4rem;
            padding: 0.2rem 0.5rem;
            margin-right: 0.9rem;
        }

        .high {
            color: #F06A6A;
            background-color: rgba(255, 46, 0, 0.15);
        }

        .process {
            color: #68B266;
            background: rgba(131, 194, 157, 0.2);
        }

        .low {
            color: #FFA500;
            background: rgba(255, 165, 0, 0.15);
        }
    </style>

    </style>
</head>

<body>
    <div class="header">
        <div class="left">
            <div class="title">Danh sách yêu cầu</div>
            <div class="progress-bar">
                <label for="file">Đã hoàn thành: 25/50</label>
                <progress id="file" value="32" max="100"> 50% </progress>
            </div>
        </div>
        <div class="right">
            <input type="submit" value="Tạo mới yêu cầu"></input>
        </div>
    </div>
    <div class="tab-container">
        <div class="tab-header">
            <button class="tab-button active" onclick="openTab(event, 'tab1')">
                <i class="fa-solid fa-house"></i>
                <span>Tiếp nhận</span>
                <span class="tab-number">4</span>
            </button>
            <button class="tab-button" onclick="openTab(event, 'tab2')">
                <i class="fa-solid fa-house"></i>
                <span>Bổ sung chất lượng</span>
                <span class="tab-number">4</span>
            </button>
            <button class="tab-button" onclick="openTab(event, 'tab3')">
                <i class="fa-solid fa-house"></i>
                <span>Đánh giá chất lượng</span>
                <span class="tab-number">4</span>
            </button>
        </div>
        <div class="tab-content " id="tab1">
            <div class="filter">
                <div class="input-icon">
                    <input type="text" id="searchInput" placeholder="Tìm kiếm">
                    <i class="fas fa-search"></i>
                </div>
                <div class="filter-select">
                    <span>Đầu mối</span>
                    <select name="" id="filterSelect">
                        <option value="">Hiển thị tất cả</option>
                    </select>
                </div>
                <div class="filter-button">
                    <button><span><i class="fas fa-search"></i>Làm mới</span></button>
                    <button id="exportButton" onclick="exportToExcel(data)"><span><i class="fas fa-search"></i>Xuất
                            file</span></button>
                </div>
            </div>
            <div class="card" id="listingTable">
                <!-- <div class="card-item">
                    <div class="card-header">
                        Phòng Phát triển sản phẩm bán lẻ
                    </div>
                    <div class="card-body">
                        <div class="card-link">...</div>
                        <div class="card-info">
                            <div class="card-title">
                                <span>Sản phẩm tín dụng bán lẻ</span>
                                <br></br>
                                <span>Mô tả yêu cầu</span>
                            </div>
                            <div class="card-status">
                                <span class="high">Cao</span>
                                <span class="process">Đang xử lý</span>
                                <span class="low">Thấp</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-item">
                    <div class="card-header">
                        Phòng Quản lý chất lượng
                    </div>
                    <div class="card-body">
                        <div class="card-link">...</div>
                        <div class="card-info">
                            <div class="card-title">
                                <span>Sản phẩm tín dụng bán lẻ</span>
                                <br></br>
                                <span>Mô tả yêu cầu</span>
                            </div>
                            <div class="card-status">
                                <span class="high">Cao</span>
                                <span class="process">Đang xử lý</span>
                                <span class="low">Thấp</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-item">
                    <div class="card-header">
                        Trung Tâm Thẻ - Phòng Kế toán Tổng hợp
                    </div>
                    <div class="card-body">
                        <div class="card-link">...</div>
                        <div class="card-info">
                            <div class="card-title">
                                <span>Sản phẩm tín dụng bán lẻ</span>
                                <br></br>
                                <span>Mô tả yêu cầu</span>
                            </div>
                            <div class="card-status">
                                <span class="high">Cao</span>
                                <span class="process">Đang xử lý</span>
                                <span class="low">Thấp</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-item">
                    <div class="card-header">
                        Phòng Ngân hàng số
                    </div>
                    <div class="card-body">
                        <div class="card-link">...</div>
                        <div class="card-info">
                            <div class="card-title">
                                <span>Sản phẩm tín dụng bán lẻ</span>
                                <br></br>
                                <span>Mô tả yêu cầu</span>
                            </div>
                            <div class="card-status">
                                <span class="high">Cao</span>
                                <span class="process">Đang xử lý</span>
                                <span class="low">Thấp</span>
                            </div>
                        </div>
                    </div>
                </div> -->
            </div>
            <!-- <div id="listingTable"></div> -->
            <div class="pagination">
                <a href="#" id="btnPrev">Prev</a>
                <span id="page"></span>
                <a href="#" id="btnNext">Next</a>
            </div>
        </div>
        <div class="tab-content" id="tab2">
            <h2>Tab 2 Content</h2>
            <p>This is the content for Tab 2.</p>
        </div>
        <div class="tab-content" id="tab3">
            <h2>Tab 3 Content</h2>
            <p>This is the content for Tab 3.</p>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.7.0.js"
        integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM=" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/xlsx/dist/xlsx.full.min.js"></script>
    <script>
        var data = [
            {
                unitName: "Khối KHDN",
                properties: [
                    {
                        groupName: "Hỗ trợ chung",
                        properties: [
                            {
                                deptName: "Phòng Khách hàng doanh nghiệp lớn",
                                detail: "Yêu cầu trình chủ trương tiếp cận khách hàng doanh nghiệp lớn ngoài địa bàn"
                            },
                            {
                                deptName: "Phòng Khách hàng doanh nghiệp lớn",
                                detail: "Yêu cầu trình chủ trương tiếp cập khách hàng doanh nghiệp lớn thuộc lĩnh vực hạn chế"
                            },
                            {
                                deptName: "Phòng Khách hàng doanh nghiệp lớn",
                                detail: "Yêu cầu giải đáp vướng mắc, làm rõ các nội dung liên quan đến chức năng nhiệm vụ của Phòng Khách hàng doanh nghiệp lớn"
                            },
                            {
                                deptName: "Phòng Khách hàng doanh nghiệp vừa và nhỏ",
                                detail: "Yêu cầu trình chủ trương tiếp cận khách hàng doanh nghiệp vừa và nhỏ ngoài địa bàn"
                            },
                            {
                                deptName: "Phòng Khách hàng doanh nghiệp vừa và nhỏ",
                                detail: "Yêu cầu trình chủ trương tiếp cập khách hàng doanh nghiệp vừa và nhỏ thuộc lĩnh vực hạn chế"
                            },
                            {
                                deptName: "Phòng Khách hàng doanh nghiệp vừa và nhỏ",
                                detail: "Yêu cầu giải đáp vướng mắc phát sinh trong công tác đẩy bán"
                            },
                            {
                                deptName: "Phòng Khách hàng FDI và Nguồn vốn quốc tế",
                                detail: "Yêu cầu giải đáp vướng mắc, làm rõ các nội dung liên quan đến chức năng nhiệm vụ của Phòng Khách hàng FDI và Nguồn vốn quốc tế"
                            },
                            {
                                deptName: "Phòng Thúc đẩy kinh doanh",
                                detail: "Yêu cầu xem xét tính khả thi về yêu cầu Marketing nội bộ"
                            },
                            {
                                deptName: "Phòng Thúc đẩy kinh doanh",
                                detail: "Yêu cầu giải đáp vướng mắc liên quan đến các Chương trình của KHDN (Chương trình khuyến mại, ưu đãi, chương trình động lực, thi đua thúc đẩy bán,…)"
                            },
                            {
                                deptName: "Phòng Thúc đẩy kinh doanh",
                                detail: "Yêu cầu phát triển mới, điều chỉnh, chào bán giải pháp tài chính đối với Khách hàng"
                            },
                            {
                                deptName: "Phòng Thúc đẩy kinh doanh",
                                detail: "Yêu cầu hướng dẫn xây dựng Account Plan cho KHTC tại CN"
                            },
                            {
                                deptName: "Phòng Phát triển giải pháp tài chính",
                                detail: "Yêu cầu xem xét tính khả thi của yêu cầu phát triển sản phẩm KHDN (Huy động vốn, TTTM, Tiền gửi, Tín dụng, Thanh toán và Quản lý dòng tiền,…)"
                            },
                            {
                                deptName: "Phòng Phát triển giải pháp tài chính",
                                detail: "Yêu cầu giải đáp vướng mắc liên quan đến SPDV của khối KHDN (Huy động vốn, TTTM, Tiền gửi, Tín dụng, Thanh toán và Quản lý dòng tiền ,…)"
                            },
                            {
                                deptName: "Phòng Phát triển giải pháp tài chính",
                                detail: "Yêu cầu giải đáp vướng mắc liên quan đến kênh giao dịch điện tử đã triển khai của khối KHDN"
                            },
                            {
                                deptName: "Phòng Phát triển giải pháp tài chính",
                                detail: "Yêu cầu hỗ trợ liên quan đến các kênh giao dịch điện tử dành cho KHDN (eFAST, ERP, H2H, API, SMS Banking,…)"
                            }, {
                                deptName: "Phòng Phát triển giải pháp tài chính",
                                detail: "Yêu cầu hỗ trợ tra soát kinh phí công đoàn "
                            },
                            {
                                deptName: "Phòng Kế hoạch và Quản lý thông tin khách hàng",
                                detail: "Yêu cầu giải đáp vướng mắc, làm rõ các nội dung liên quan đến chức năng nhiệm vụ của Phòng Kế hoạch và Quản lý thông tin khách hàng"
                            }
                        ]
                    },
                    {
                        groupName: "Ngoại lệ lãi suất",
                        properties: [
                            {
                                deptName: "Phòng Khách hàng",
                                detail: "Yêu cầu ngoại lệ lãi suất"
                            }
                        ]
                    },
                    {
                        groupName: "Xây dựng giải pháp tài chính (GPTC)",
                        properties: [
                            {
                                deptName: "Phòng Khách hàng",
                                detail: "Yêu cầu  Xây dựng giải pháp tài chính (GPTC)"
                            }
                        ]
                    }
                ]
            },
            {
                unitName: "Khối bán lẻ",
                properties: [
                    {
                        groupName: "Thanh toán",
                        properties: [
                            {
                                deptName: "Trung Tâm Thẻ - Phòng Kế toán Tổng hợp",
                                detail: "Nhờ thu, hoàn trả thẻ"
                            },
                            {
                                deptName: "Trung Tâm Thẻ - Phòng Kế toán Tổng hợp",
                                detail: "Báo cáo đơn vị chấp nhận thẻ"
                            },
                            {
                                deptName: "Trung Tâm Thẻ - Phòng Kế toán Tổng hợp",
                                detail: "Nghiệp vụ kế toán thẻ khác"
                            }
                        ]
                    },
                    {
                        groupName: "Quy trình chính sách sản phẩm và phí",
                        properties: [
                            {
                                deptName: "Phòng Phát triển sản phẩm bán lẻ",
                                detail: "Sản phẩm tín dụng bán lẻ"
                            },
                            {
                                deptName: "Phòng Phát triển sản phẩm bán lẻ",
                                detail: "Sản phẩm huy động vốn, phí và bảo hiểm "
                            },
                            {
                                deptName: "Trung Tâm Thẻ - Phòng NCTT&PTSP thẻ",
                                detail: "Sản phẩm thẻ - Trình ngoại lệ phí phát hành thẻ"
                            },
                            {
                                deptName: "Trung Tâm Thẻ - Phòng Vận hành",
                                detail: "Sản phẩm thẻ - Quy trình chính sách sản phẩm thẻ"
                            },
                            {
                                deptName: "Trung Tâm Thẻ - Phòng Vận hành",
                                detail: "Hỗ trợ nghiệp vụ thẻ"
                            },
                            {
                                deptName: "Phòng Ngân hàng số",
                                detail: "Dịch vụ eBank (bao gồm iPay/ BankPlus/ SMS tài khoản DDA)"
                            }
                        ]
                    },
                    {
                        groupName: "Quản lý rủi ro",
                        properties: [
                            {
                                deptName: "Phòng Quản lý rủi ro bán lẻ",
                                detail: "Quản lý rủi ro bán lẻ"
                            },
                            {
                                deptName: "Trung Tâm Thẻ - Phòng Vận hành",
                                detail: "Tra soát thừa thiếu quỹ ATM"
                            },
                            {
                                deptName: "Trung Tâm Thẻ - Phòng Quản lý rủi ro nghiệp vụ thẻ",
                                detail: "Tra soát thẻ TDQT"
                            }
                        ]
                    },
                    {
                        groupName: "Vận hành hệ thống",
                        properties: [
                            {
                                deptName: "Trung Tâm Thẻ - Phòng Vận hành",
                                detail: "Thiết bị đầu cuối: ATM, POS"
                            },
                            {
                                deptName: "Trung Tâm Thẻ - Phòng Vận hành",
                                detail: "Hệ thống: Fimi, ITC, IUC, Hóa đơn tự in"
                            },
                            {
                                deptName: "Trung Tâm Thẻ - Phòng Vận hành",
                                detail: "SMS Biến động số dư thẻ TDQT"
                            }
                        ]
                    },
                    {
                        groupName: "Công tác kinh doanh",
                        properties: [
                            {
                                deptName: "Phòng Kế hoạch và Quản lý tài chính bán lẻ",
                                detail: "Kế hoạch\chỉ tiêu KPI\Mạng lưới nhân sự"
                            },
                            {
                                deptName: "Phòng Kế hoạch và Quản lý tài chính bán lẻ",
                                detail: "Marketing bán lẻ"
                            },
                            {
                                deptName: "Phòng Phát triển kinh doanh bán lẻ",
                                detail: "Phát triển kinh doanh- Yêu cầu ngoại lệ về lãi suất"
                            },
                            {
                                deptName: "Phòng Phát triển kinh doanh bán lẻ",
                                detail: "Phát triển kinh doanh- Yêu cầu ngoại lệ về cơ chế điều kiện tín dụng"
                            },
                            {
                                deptName: "Phòng Phát triển kinh doanh bán lẻ",
                                detail: "Phát triển kinh doanh- Yêu cầu ngoại lệ khác"
                            },
                            {
                                deptName: "Phòng Phát triển kinh doanh bán lẻ",
                                detail: "Phát triển kinh doanh- Giải đáp thắc mắc về QĐ, QTr SPDV Bán lẻ"
                            },
                            {
                                deptName: "Trung Tâm Thẻ - Phòng Phát triển đối tác thẻ",
                                detail: "Doanh số thanh toán và kinh doanh thẻ"
                            }

                        ]
                    },

                ],
            },
            {
                unitName: "Khối nhân sự",
                properties: [
                    {
                        groupName: "Nhân sự",
                        properties: [
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Tuyển dụng"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Hợp đồng lao động"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Điều động"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Bổ nhiệm, bổ nhiệm lại"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Thôi giữ chức vụ, miễn nhiệm, từ chức"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Thôi điều hành, tạm đình chỉ công việc"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Thi đua khen thưởng"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Quy hoạch cán bộ"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Luân chuyển, chuyển đổi công việc"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Đào tạo"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "KPI"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Tiền lương"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Nghỉ hưu, nghỉ 1062"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Mạng lưới"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Công tác Đảng, Đoàn"
                            }
                        ]
                    },
                    {
                        groupName: "Hỗ trợ chung",
                        properties: [
                            {
                                deptName: "Trường Đào tạo và phát triển nguồn nhân lực",
                                detail: "Yêu cầu xây dựng bài giảng elearning"
                            }
                        ]
                    }
                ]
            },
            {
                unitName: "Khối Vận hành",
                properties: [
                    {
                        groupName: "Hỗ trợ chung",
                        properties: [
                            {
                                deptName: "Trung tâm Tài trợ thương mại",
                                detail: "Yêu cầu giải đáp vướng mắc liên quan đến quy trình nghiệp vụ LC, nhờ thu nhập khẩu"
                            },
                            {
                                deptName: "Trung tâm Tài trợ thương mại",
                                detail: "Yêu cầu giải đáp vướng mắc liên quan đến quy trình nghiệp vụ bảo lãnh"
                            },
                            {
                                deptName: "Trung tâm Tài trợ thương mại",
                                detail: "Yêu cầu giải đáp vướng mắc liên quan đến quy trình nghiệp vụ bao thanh toán"
                            },
                            {
                                deptName: "Trung tâm Tài trợ thương mại",
                                detail: "Yêu cầu giải đáp vướng mắc liên quan đến quy trình nghiệp vụ LC, nhờ thu xuất khẩu và chiết khấu"
                            },
                            {
                                deptName: "Trung tâm Tài trợ thương mại",
                                detail: "Yêu cầu giải đáp vướng mắc liên quan đến quy trình nghiệp vụ chuyển tiền ngoại tệ"
                            },
                            {
                                deptName: "Trung tâm Tài trợ thương mại",
                                detail: "Yêu cầu giải đáp vướng mắc về các vấn đề liên quan đến nghiệp vụ Hỗ trợ tín dụng"
                            },
                            {
                                deptName: "Phòng Quản lý chất lượng",
                                detail: "Yêu cầu giải đáp vướng mắc liên quan đến công tác quản lý chất lượng"
                            },
                            {
                                deptName: "Phòng Quản lý chất lượng",
                                detail: "Cung cấp báo cáo SLA định kỳ"
                            },
                            {
                                deptName: "Phòng Quản lý chất lượng",
                                detail: "Cung cấp báo cáo QLCL định kỳ"
                            },
                            {
                                deptName: "Phòng Quản lý chất lượng",
                                detail: "Cung cấp báo cáo 5S định kỳ"
                            },
                        ]
                    },
                    {
                        groupName: "Hỗ trợ tác nghiệp & Quản trị tham số hệ thống",
                        properties: [
                            {
                                deptName: "Phòng QLHT và HTKD",
                                detail: "Yêu cầu hỗ trợ tác nghiệp"
                            },
                            {
                                deptName: "Phòng QLHT và HTKD",
                                detail: "Yêu cầu quản trị tham số hệ thống"
                            }
                        ]
                    },
                    {
                        groupName: "Hạch toán kế toán",
                        properties: [
                            {
                                deptName: "Phòng TQT VKD",
                                detail: "Kết chuyển trạng thái ngoại tệ"
                            },
                            {
                                deptName: "Phòng TQT VKD",
                                detail: "Giao dịch mua bán ngoại tệ trên hệ thống Vision FX, Murex"
                            },
                            {
                                deptName: "Phòng TQT VKD",
                                detail: "Giao dịch tương lai hàng hóa trên hệ thống Vision Commodity"
                            },
                            {
                                deptName: "Phòng TQT VKD",
                                detail: "Giao dịch hoán đổi lãi suất trên hệ thống Murex"
                            },
                        ]
                    },
                    {
                        groupName: "Quản lý tiền mặt",
                        properties: [
                            {
                                deptName: "Trung tâm Quản lý tiền mặt",
                                detail: "Yêu cầu điều chuyển tiền mặt giữa chi nhánh và trung tâm quản lý tiền mặt"
                            },
                            {
                                deptName: "Trung tâm Quản lý tiền mặt",
                                detail: "Xử lý giao dịch nghi ngờ"
                            },
                        ]
                    }
                ]
            },
            {
                unitName: "Khối Mua sắm & Quản lý tài sản",
                properties: [
                    {
                        groupName: "Dịch vụ tòa nhà",
                        properties: [
                            {
                                deptName: "Phòng Quản trị và dịch vụ tài sản",
                                detail: "Dịch vụ sửa chữa, khắc phục sự cố"
                            },
                            {
                                deptName: "Phòng Quản trị và dịch vụ tài sản",
                                detail: "Dịch vụ cung cấp VPP, CCDC, nước uống, đổ mực"
                            },
                            {
                                deptName: "Phòng Quản trị và dịch vụ tài sản",
                                detail: "Rà soát, phản hồi và cập nhật tiến độ thực hiện các đề xuất cải tiến"
                            }
                        ]
                    }
                ]
            },
            {
                unitName: "Khối Công nghệ thông tin",
                properties: [
                    {
                        groupName: "Hỗ trợ Công nghệ thông tin",
                        properties: [
                            {
                                deptName: "Service Desk",
                                detail: "Yêu cầu hỗ trợ CNTT"
                            }
                        ]
                    }
                ]
            },
            {
                unitName: "Khối Pháp chế tuân thủ",
                properties: [
                    {

                        groupName: "Hỗ trợ chung",
                        properties: [
                            {
                                deptName: "Phòng Quản lý tuân thủ",
                                detail: "Hỗ trợ giải đáp vướng mắc nghiệp vụ AML"
                            },
                            {
                                deptName: "Phòng Quản lý tuân thủ",
                                detail: "Hỗ trợ giải đáp về quy định NHCT về cung cấp thông tin khách hàng "
                            },
                            {
                                deptName: "Phòng Pháp chế",
                                detail: "Yêu cầu tư vấn vấn đề pháp lý cho đơn vị TSC"
                            },
                            {
                                deptName: "Phòng Pháp chế",
                                detail: "Yêu cầu tư vấn pháp lý liên quan đến hoạt động kinh doanh của chi nhánh"
                            }
                        ]
                    },
                    {
                        groupName: "Cung cấp thông tin khách hàng",
                        properties: [
                            {
                                deptName: "Phòng Quản lý tuân thủ",
                                detail: "Yêu cầu cung cấp thông tin khách hàng tại Trụ sở chính"
                            },
                            {
                                deptName: "Phòng Quản lý tuân thủ",
                                detail: "Yêu cầu cung cấp thông tin khách hàng tại Chi nhánh "
                            }
                        ]
                    },
                    {
                        groupName: "Công việc pháp lý khác",
                        properties: [
                            {
                                deptName: "Phòng Quản lý tuân thủ",
                                detail: "Yêu cầu cung cấp thông tin khách hàng tại Trụ sở chính"
                            },
                            {
                                deptName: "Phòng Quản lý tuân thủ",
                                detail: "Yêu cầu cung cấp thông tin khách hàng tại Chi nhánh "
                            }
                        ]
                    }
                ]
            },
            {
                unitName: "Khối Dữ liệu 2 cấp",
                level: 2,
                properties: [
                    {
                        groupName: "Hỗ trợ Dữ liệu 2a cấp",

                        properties: [
                            {
                                deptName: "Service Desk",
                                detail: "Yêu cầu hỗ trợ CNTT"
                            }
                        ]
                    },
                    {
                        groupName: "Hỗ trợ Dữ liệu 2b cấp",
                        properties: [
                            {
                                deptName: "Service Desk",
                                detail: "Yêu cầu hỗ trợ CNTT"
                            }
                        ]
                    }
                ]
            },
        ];

        var newData = [];
        // Đang lấy data cũ tiện tay,data mới lấy dễ hơn dùng doSelect vì giao diện này ko phân cấp bậc nên dùng cách này
        data.forEach(function (unit) {
            var unitName = unit.unitName;
            unit.properties.forEach(function (group) {
                var groupName = group.groupName;
                group.properties.forEach(function (property) {
                    var newObj = {
                        unitName: unitName,
                        groupName: groupName,
                        deptName: property.deptName,
                        detail: property.detail
                    };
                    newData.push(newObj);
                });
            });
        });
        console.log(newData);
        var options = [...new Set(newData.map(item => item.unitName))];
        console.log('1', options);
        for (var i = 0; i < options.length; i++) {
            var option = $("<option></option>")
                .text(options[i])
                .val(options[i])
            // Append the option to the select element
            $("#filterSelect").append(option);
        }
        var objJson = newData.slice(); // Make a copy of the original data
    </script>
    <script>
        // var newData1 = newData.slice
        function openTab(evt, tabName) {
            // Hide all tab content
            $('.tab-content').hide();

            // Remove 'active' class from all tab buttons
            $('.tab-button').removeClass('active');

            // Show the selected tab content and mark the button as active
            $('#' + tabName).show();
            $(evt.currentTarget).addClass('active');
        }
        $('.tab-button').eq(0).trigger('click');
        // Set the first tab as active by default
        var current_page = 1;
        var records_per_page = 8;

        $(document).ready(function () {
            changePage(current_page);

            $("#btnPrev").on("click", function (e) {
                e.preventDefault();
                if (current_page > 1) {
                    current_page--;
                    changePage(current_page);
                }
            });

            $("#btnNext").on("click", function (e) {
                e.preventDefault();
                if (current_page < numPages()) {
                    current_page++;
                    changePage(current_page);
                }
            });

            $("#searchInput, #filterSelect").on("input", function () {
                var searchValue = $("#searchInput").val().toLowerCase();
                var filterValue = $("#filterSelect").val().toLowerCase();

                var filteredData = newData.filter(function (item) {
                    // Check if any value in the object contains the search value
                    return Object.values(item).some(function (value) {
                        return value.toString().toLowerCase().includes(searchValue);
                    }) && (filterValue === "" || item.unitName.toLowerCase() === filterValue);
                });

                current_page = 1;
                objJson = filteredData;
                changePage(current_page);
            });
        });

        function changePage(page) {
            var btn_next = $("#btnNext");
            var btn_prev = $("#btnPrev");
            var listing_table = $("#listingTable");
            var page_span = $("#page");

            // Validate page
            if (page < 1) page = 1;
            if (page > numPages()) page = numPages();

            listing_table.empty();

            for (var i = (page - 1) * records_per_page; i < page * records_per_page && i < objJson.length; i++) {
                if (objJson[i]) {
                    let html =
                        `<div class="card-item">
                    <div class="card-header">
                        ${objJson[i].deptName}
                    </div>
                    <div class="card-body">
                        <div class="card-link">...</div>
                        <div class="card-info">
                            <div class="card-title">
                                <span>   ${objJson[i].detail}</span>
                                <br></br>
                                <span>Mô tả yêu cầu</span>
                            </div>
                            <div class="card-status">
                                <span class="high">Cao</span>
                                <span class="process">Đang xử lý</span>
                                <span class="low">Thấp</span>
                            </div>
                        </div>
                    </div>
                </div>`
                    listing_table.append(html);
                }

            }

            page_span.text(page + " / " + numPages());

            if (page == 1) {
                btn_prev.css("visibility", "hidden");
            } else {
                btn_prev.css("visibility", "visible");
            }

            if (page == numPages()) {
                btn_next.css("visibility", "hidden");
            } else {
                btn_next.css("visibility", "visible");
            }

            var pageLinks = '';
            var totalPages = numPages();

            if (totalPages <= 7) {
                for (var i = 1; i <= totalPages; i++) {
                    pageLinks += '<a href="#" onclick="changePage(' + i + ')">' + i + '</a>';
                }
            } else {
                if (page <= 4) {
                    for (var i = 1; i <= 5; i++) {
                        pageLinks += '<a href="#" onclick="changePage(' + i + ')">' + i + '</a>';
                    }
                    pageLinks += '... ';
                    pageLinks += '<a href="#" onclick="changePage(' + totalPages + ')">' + totalPages + '</a>';
                } else if (page >= totalPages - 3) {
                    pageLinks += '<a href="#" onclick="changePage(1)">1</a>';
                    pageLinks += '... ';
                    for (var i = totalPages - 4; i <= totalPages; i++) {
                        pageLinks += '<a href="#" onclick="changePage(' + i + ')">' + i + '</a>';
                    }
                } else {
                    pageLinks += '<a href="#" onclick="changePage(1)">1</a>';
                    pageLinks += '... ';
                    for (var i = page - 1; i <= page + 1; i++) {
                        pageLinks += '<a href="#" onclick="changePage(' + i + ')">' + i + '</a>';
                    }
                    pageLinks += '... ';
                    pageLinks += '<a href="#" onclick="changePage(' + totalPages + ')">' + totalPages + '</a>';
                }
            }

            $(".pagination").empty();
            $(".pagination").append('<a href="#" id="btnPrev">Prev</a> ');
            $(".pagination").append(pageLinks);
            $(".pagination").append(' <a href="#" id="btnNext">Next</a>');
            $(".pagination").find('a:contains("' + page + '")').addClass('active');
        }

        function numPages() {
            return Math.ceil(objJson.length / records_per_page);
        }
    </script>
</body>

</html>