const data = [
    {
      unitName: "Khối KHDN",
      properties: [
        {
          groupName: "Hỗ trợ chung",
          properties: [
            {
              deptName: "Phòng Khách hàng doanh nghiệp lớn",
              detail:
                "Yêu cầu trình chủ trương tiếp cận khách hàng doanh nghiệp lớn ngoài địa bàn",
            },
            {
              deptName: "Phòng Khách hàng doanh nghiệp lớn",
              detail:
                "Yêu cầu trình chủ trương tiếp cập khách hàng doanh nghiệp lớn thuộc lĩnh vực hạn chế",
            },
            {
              deptName: "Phòng Khách hàng doanh nghiệp lớn",
              detail:
                "Yêu cầu giải đáp vướng mắc, làm rõ các nội dung liên quan đến chức năng nhiệm vụ của Phòng Khách hàng doanh nghiệp lớn",
            },
            {
              deptName: "Phòng Khách hàng doanh nghiệp vừa và nhỏ",
              detail:
                "Yêu cầu trình chủ trương tiếp cận khách hàng doanh nghiệp vừa và nhỏ ngoài địa bàn",
            },
            {
              deptName: "Phòng Khách hàng doanh nghiệp vừa và nhỏ",
              detail:
                "Yêu cầu trình chủ trương tiếp cập khách hàng doanh nghiệp vừa và nhỏ thuộc lĩnh vực hạn chế",
            },
            {
              deptName: "Phòng Khách hàng doanh nghiệp vừa và nhỏ",
              detail:
                "Yêu cầu giải đáp vướng mắc phát sinh trong công tác đẩy bán",
            },
            {
              deptName: "Phòng Khách hàng FDI và Nguồn vốn quốc tế",
              detail:
                "Yêu cầu giải đáp vướng mắc, làm rõ các nội dung liên quan đến chức năng nhiệm vụ của Phòng Khách hàng FDI và Nguồn vốn quốc tế",
            },
            {
              deptName: "Phòng Thúc đẩy kinh doanh",
              detail: "Yêu cầu xem xét tính khả thi về yêu cầu Marketing nội bộ",
            },
            {
              deptName: "Phòng Thúc đẩy kinh doanh",
              detail:
                "Yêu cầu giải đáp vướng mắc liên quan đến các Chương trình của KHDN (Chương trình khuyến mại, ưu đãi, chương trình động lực, thi đua thúc đẩy bán,…)",
            },
            {
              deptName: "Phòng Thúc đẩy kinh doanh",
              detail:
                "Yêu cầu phát triển mới, điều chỉnh, chào bán giải pháp tài chính đối với Khách hàng",
            },
            {
              deptName: "Phòng Thúc đẩy kinh doanh",
              detail: "Yêu cầu hướng dẫn xây dựng Account Plan cho KHTC tại CN",
            },
            {
              deptName: "Phòng Phát triển giải pháp tài chính",
              detail:
                "Yêu cầu xem xét tính khả thi của yêu cầu phát triển sản phẩm KHDN (Huy động vốn, TTTM, Tiền gửi, Tín dụng, Thanh toán và Quản lý dòng tiền,…)",
            },
            {
              deptName: "Phòng Phát triển giải pháp tài chính",
              detail:
                "Yêu cầu giải đáp vướng mắc liên quan đến SPDV của khối KHDN (Huy động vốn, TTTM, Tiền gửi, Tín dụng, Thanh toán và Quản lý dòng tiền ,…)",
            },
            {
              deptName: "Phòng Phát triển giải pháp tài chính",
              detail:
                "Yêu cầu giải đáp vướng mắc liên quan đến kênh giao dịch điện tử đã triển khai của khối KHDN",
            },
            {
              deptName: "Phòng Phát triển giải pháp tài chính",
              detail:
                "Yêu cầu hỗ trợ liên quan đến các kênh giao dịch điện tử dành cho KHDN (eFAST, ERP, H2H, API, SMS Banking,…)",
            },
            {
              deptName: "Phòng Phát triển giải pháp tài chính",
              detail: "Yêu cầu hỗ trợ tra soát kinh phí công đoàn ",
            },
            {
              deptName: "Phòng Kế hoạch và Quản lý thông tin khách hàng",
              detail:
                "Yêu cầu giải đáp vướng mắc, làm rõ các nội dung liên quan đến chức năng nhiệm vụ của Phòng Kế hoạch và Quản lý thông tin khách hàng",
            },
          ],
        },
        {
          groupName: "Ngoại lệ lãi suất",
          properties: [
            {
              deptName: "Phòng Khách hàng",
              detail: "Yêu cầu ngoại lệ lãi suất",
            },
          ],
        },
        {
          groupName: "Xây dựng giải pháp tài chính (GPTC)",
          properties: [
            {
              deptName: "Phòng Khách hàng",
              detail: "Yêu cầu  Xây dựng giải pháp tài chính (GPTC)",
            },
          ],
        },
      ],
    },
    {
      unitName: "Khối bán lẻ",
      properties: [
        {
          groupName: "Thanh toán",
          properties: [
            {
              deptName: "Trung Tâm Thẻ - Phòng Kế toán Tổng hợp",
              detail: "Nhờ thu, hoàn trả thẻ",
            },
            {
              deptName: "Trung Tâm Thẻ - Phòng Kế toán Tổng hợp",
              detail: "Báo cáo đơn vị chấp nhận thẻ",
            },
            {
              deptName: "Trung Tâm Thẻ - Phòng Kế toán Tổng hợp",
              detail: "Nghiệp vụ kế toán thẻ khác",
            },
          ],
        },
        {
          groupName: "Quy trình chính sách sản phẩm và phí",
          properties: [
            {
              deptName: "Phòng Phát triển sản phẩm bán lẻ",
              detail: "Sản phẩm tín dụng bán lẻ",
            },
            {
              deptName: "Phòng Phát triển sản phẩm bán lẻ",
              detail: "Sản phẩm huy động vốn, phí và bảo hiểm ",
            },
            {
              deptName: "Trung Tâm Thẻ - Phòng NCTT&PTSP thẻ",
              detail: "Sản phẩm thẻ - Trình ngoại lệ phí phát hành thẻ",
            },
            {
              deptName: "Trung Tâm Thẻ - Phòng Vận hành",
              detail: "Sản phẩm thẻ - Quy trình chính sách sản phẩm thẻ",
            },
            {
              deptName: "Trung Tâm Thẻ - Phòng Vận hành",
              detail: "Hỗ trợ nghiệp vụ thẻ",
            },
            {
              deptName: "Phòng Ngân hàng số",
              detail: "Dịch vụ eBank (bao gồm iPay/ BankPlus/ SMS tài khoản DDA)",
            },
          ],
        },
        {
          groupName: "Quản lý rủi ro",
          properties: [
            {
              deptName: "Phòng Quản lý rủi ro bán lẻ",
              detail: "Quản lý rủi ro bán lẻ",
            },
            {
              deptName: "Trung Tâm Thẻ - Phòng Vận hành",
              detail: "Tra soát thừa thiếu quỹ ATM",
            },
            {
              deptName: "Trung Tâm Thẻ - Phòng Quản lý rủi ro nghiệp vụ thẻ",
              detail: "Tra soát thẻ TDQT",
            },
          ],
        },
        {
          groupName: "Vận hành hệ thống",
          properties: [
            {
              deptName: "Trung Tâm Thẻ - Phòng Vận hành",
              detail: "Thiết bị đầu cuối: ATM, POS",
            },
            {
              deptName: "Trung Tâm Thẻ - Phòng Vận hành",
              detail: "Hệ thống: Fimi, ITC, IUC, Hóa đơn tự in",
            },
            {
              deptName: "Trung Tâm Thẻ - Phòng Vận hành",
              detail: "SMS Biến động số dư thẻ TDQT",
            },
          ],
        },
        {
          groupName: "Công tác kinh doanh",
          properties: [
            {
              deptName: "Phòng Kế hoạch và Quản lý tài chính bán lẻ",
              detail: "Kế hoạchchỉ tiêu KPIMạng lưới nhân sự",
            },
            {
              deptName: "Phòng Kế hoạch và Quản lý tài chính bán lẻ",
              detail: "Marketing bán lẻ",
            },
            {
              deptName: "Phòng Phát triển kinh doanh bán lẻ",
              detail: "Phát triển kinh doanh- Yêu cầu ngoại lệ về lãi suất",
            },
            {
              deptName: "Phòng Phát triển kinh doanh bán lẻ",
              detail:
                "Phát triển kinh doanh- Yêu cầu ngoại lệ về cơ chế điều kiện tín dụng",
            },
            {
              deptName: "Phòng Phát triển kinh doanh bán lẻ",
              detail: "Phát triển kinh doanh- Yêu cầu ngoại lệ khác",
            },
            {
              deptName: "Phòng Phát triển kinh doanh bán lẻ",
              detail:
                "Phát triển kinh doanh- Giải đáp thắc mắc về QĐ, QTr SPDV Bán lẻ",
            },
            {
              deptName: "Trung Tâm Thẻ - Phòng Phát triển đối tác thẻ",
              detail: "Doanh số thanh toán và kinh doanh thẻ",
            },
          ],
        },
      ],
    },
    {
      unitName: "Khối nhân sự",
      properties: [
        {
          groupName: "Nhân sự",
          properties: [
            {
              deptName: "Phòng Phát triển nhân sự",
              detail: "Tuyển dụng",
            },
            {
              deptName: "Phòng Phát triển nhân sự",
              detail: "Hợp đồng lao động",
            },
            {
              deptName: "Phòng Phát triển nhân sự",
              detail: "Điều động",
            },
            {
              deptName: "Phòng Phát triển nhân sự",
              detail: "Bổ nhiệm, bổ nhiệm lại",
            },
            {
              deptName: "Phòng Phát triển nhân sự",
              detail: "Thôi giữ chức vụ, miễn nhiệm, từ chức",
            },
            {
              deptName: "Phòng Phát triển nhân sự",
              detail: "Thôi điều hành, tạm đình chỉ công việc",
            },
            {
              deptName: "Phòng Phát triển nhân sự",
              detail: "Thi đua khen thưởng",
            },
            {
              deptName: "Phòng Phát triển nhân sự",
              detail: "Quy hoạch cán bộ",
            },
            {
              deptName: "Phòng Phát triển nhân sự",
              detail: "Luân chuyển, chuyển đổi công việc",
            },
            {
              deptName: "Phòng Phát triển nhân sự",
              detail: "Đào tạo",
            },
            {
              deptName: "Phòng Phát triển nhân sự",
              detail: "KPI",
            },
            {
              deptName: "Phòng Phát triển nhân sự",
              detail: "Tiền lương",
            },
            {
              deptName: "Phòng Phát triển nhân sự",
              detail: "Nghỉ hưu, nghỉ 1062",
            },
            {
              deptName: "Phòng Phát triển nhân sự",
              detail: "Mạng lưới",
            },
            {
              deptName: "Phòng Phát triển nhân sự",
              detail: "Công tác Đảng, Đoàn",
            },
          ],
        },
        {
          groupName: "Hỗ trợ chung",
          properties: [
            {
              deptName: "Trường Đào tạo và phát triển nguồn nhân lực",
              detail: "Yêu cầu xây dựng bài giảng elearning",
            },
          ],
        },
      ],
    },
    {
      unitName: "Khối Vận hành",
      properties: [
        {
          groupName: "Hỗ trợ chung",
          properties: [
            {
              deptName: "Trung tâm Tài trợ thương mại",
              detail:
                "Yêu cầu giải đáp vướng mắc liên quan đến quy trình nghiệp vụ LC, nhờ thu nhập khẩu",
            },
            {
              deptName: "Trung tâm Tài trợ thương mại",
              detail:
                "Yêu cầu giải đáp vướng mắc liên quan đến quy trình nghiệp vụ bảo lãnh",
            },
            {
              deptName: "Trung tâm Tài trợ thương mại",
              detail:
                "Yêu cầu giải đáp vướng mắc liên quan đến quy trình nghiệp vụ bao thanh toán",
            },
            {
              deptName: "Trung tâm Tài trợ thương mại",
              detail:
                "Yêu cầu giải đáp vướng mắc liên quan đến quy trình nghiệp vụ LC, nhờ thu xuất khẩu và chiết khấu",
            },
            {
              deptName: "Trung tâm Tài trợ thương mại",
              detail:
                "Yêu cầu giải đáp vướng mắc liên quan đến quy trình nghiệp vụ chuyển tiền ngoại tệ",
            },
            {
              deptName: "Trung tâm Tài trợ thương mại",
              detail:
                "Yêu cầu giải đáp vướng mắc về các vấn đề liên quan đến nghiệp vụ Hỗ trợ tín dụng",
            },
            {
              deptName: "Phòng Quản lý chất lượng",
              detail:
                "Yêu cầu giải đáp vướng mắc liên quan đến công tác quản lý chất lượng",
            },
            {
              deptName: "Phòng Quản lý chất lượng",
              detail: "Cung cấp báo cáo SLA định kỳ",
            },
            {
              deptName: "Phòng Quản lý chất lượng",
              detail: "Cung cấp báo cáo QLCL định kỳ",
            },
            {
              deptName: "Phòng Quản lý chất lượng",
              detail: "Cung cấp báo cáo 5S định kỳ",
            },
          ],
        },
        {
          groupName: "Hỗ trợ tác nghiệp & Quản trị tham số hệ thống",
          properties: [
            {
              deptName: "Phòng QLHT và HTKD",
              detail: "Yêu cầu hỗ trợ tác nghiệp",
            },
            {
              deptName: "Phòng QLHT và HTKD",
              detail: "Yêu cầu quản trị tham số hệ thống",
            },
          ],
        },
        {
          groupName: "Hạch toán kế toán",
          properties: [
            {
              deptName: "Phòng TQT VKD",
              detail: "Kết chuyển trạng thái ngoại tệ",
            },
            {
              deptName: "Phòng TQT VKD",
              detail: "Giao dịch mua bán ngoại tệ trên hệ thống Vision FX, Murex",
            },
            {
              deptName: "Phòng TQT VKD",
              detail:
                "Giao dịch tương lai hàng hóa trên hệ thống Vision Commodity",
            },
            {
              deptName: "Phòng TQT VKD",
              detail: "Giao dịch hoán đổi lãi suất trên hệ thống Murex",
            },
          ],
        },
        {
          groupName: "Quản lý tiền mặt",
          properties: [
            {
              deptName: "Trung tâm Quản lý tiền mặt",
              detail:
                "Yêu cầu điều chuyển tiền mặt giữa chi nhánh và trung tâm quản lý tiền mặt",
            },
            {
              deptName: "Trung tâm Quản lý tiền mặt",
              detail: "Xử lý giao dịch nghi ngờ",
            },
          ],
        },
      ],
    },
    {
      unitName: "Khối Mua sắm & Quản lý tài sản",
      properties: [
        {
          groupName: "Dịch vụ tòa nhà",
          properties: [
            {
              deptName: "Phòng Quản trị và dịch vụ tài sản",
              detail: "Dịch vụ sửa chữa, khắc phục sự cố",
            },
            {
              deptName: "Phòng Quản trị và dịch vụ tài sản",
              detail: "Dịch vụ cung cấp VPP, CCDC, nước uống, đổ mực",
            },
            {
              deptName: "Phòng Quản trị và dịch vụ tài sản",
              detail:
                "Rà soát, phản hồi và cập nhật tiến độ thực hiện các đề xuất cải tiến",
            },
          ],
        },
      ],
    },
    {
      unitName: "Khối Công nghệ thông tin",
      properties: [
        {
          groupName: "Hỗ trợ Công nghệ thông tin",
          properties: [
            {
              deptName: "Service Desk",
              detail: "Yêu cầu hỗ trợ CNTT",
            },
          ],
        },
      ],
    },
    {
      unitName: "Khối Pháp chế tuân thủ",
      properties: [
        {
          groupName: "Hỗ trợ chung",
          properties: [
            {
              groupName: "Hỗ trợ chung",
              properties: [
                {
                  deptName: "Phòng Quản lý tuân thủ",
                  detail: "Hỗ trợ giải đáp vướng mắc nghiệp vụ AML",
                },
                {
                  deptName: "Phòng Quản lý tuân thủ",
                  detail:
                    "Hỗ trợ giải đáp về quy định NHCT về cung cấp thông tin khách hàng ",
                },
                {
                  deptName: "Phòng Pháp chế",
                  detail: "Yêu cầu tư vấn vấn đề pháp lý cho đơn vị TSC",
                },
                {
                  deptName: "Phòng Pháp chế",
                  detail:
                    "Yêu cầu tư vấn pháp lý liên quan đến hoạt động kinh doanh của chi nhánh",
                },
              ],
            },
            {
              groupName: "Cung cấp thông tin khách hàng",
              properties: [
                {
                  deptName: "Phòng Quản lý tuân thủ",
                  detail:
                    "Yêu cầu cung cấp thông tin khách hàng tại Trụ sở chính",
                },
                {
                  deptName: "Phòng Quản lý tuân thủ",
                  detail: "Yêu cầu cung cấp thông tin khách hàng tại Chi nhánh ",
                },
              ],
            },
            {
              groupName: "Công việc pháp lý khác",
              properties: [
                {
                  deptName: "Phòng Quản lý tuân thủ",
                  detail:
                    "Yêu cầu cung cấp thông tin khách hàng tại Trụ sở chính",
                },
                {
                  deptName: "Phòng Quản lý tuân thủ",
                  detail: "Yêu cầu cung cấp thông tin khách hàng tại Chi nhánh ",
                },
              ],
            },
          ],
        },
      ],
    },
  ];
  
  $(document).ready(function () {
    var $menu = $(".menu");
  
    // Hien thi tieu de: danh sach khoi
    var $ul_header = $("<ul>").addClass("menu-list");
    var $li_header = $("<li>").addClass("menu-item");
    var $text_header = $("<span>").addClass("menu-button").text("Danh sách khối");
    $menu.append($ul_header);
    $ul_header.append($li_header);
    $li_header.append($text_header);
  
    // Hien thi danh muc khoi
    var $ul = $("<ul>").addClass("menu-list");
    var icons = ["anchor", "cloud", "heart", "moon", "star", "sun", "book"];
    data.forEach(function (item, index) {
      var $li = $("<li>").addClass("menu-item");
      var $button = $("<button>")
        .addClass("menu-button menu-button--black")
        .append($("<i>").attr("data-feather", icons[index] ?? "gift"))
        .append(`${item.unitName} (${item.properties.length})`)
        .append($("<i>").attr("data-feather", "chevron-right"));
      $menu.append($ul);
      $ul.append($li);
      $li.append($button);
      var groupData = item.properties;
      // console.log("groupData", groupData);
      if (groupData.length > 0) {
        // Hien thi danh muc nhom nghiep vu
        var $ul_group = $("<ul>").addClass("menu-sub-list");
        var $ul_group_header = $("<ul>").addClass("menu-header-sub-list");
        var $li_group_header = $("<li>").addClass("menu-item");
        var $text_group_header = $("<span>")
          .addClass("menu-button")
          .text(`Nhóm nghiệp vụ - ${item.unitName}`);
        $li.append($ul_group);
        $ul_group.append($ul_group_header);
        $ul_group_header.append($li_group_header);
        $li_group_header.append($text_group_header);
  
        var colors = ["red", "green", "blue", "yellow", "gray", "orange"];
        groupData.forEach(function (groupItem, groupIndex) {
          var $li_group = $("<li>").addClass("menu-item");
          var $button_group = $("<button>")
            .addClass("menu-button menu-button--black")
            .append(
              $("<i>")
                .attr("data-feather", "circle")
                .css({ fill: colors[groupIndex] })
                .attr("stroke-width", 0)
            )
            .append(`${groupItem.groupName} (${groupItem.properties.length})`)
            .append($("<i>").attr("data-feather", "chevron-right"));
          $li.append($ul_group);
          $ul_group.append($li_group);
          $li_group.append($button_group);
          var detailData = groupItem.properties;
          // console.log("detailData", detailData.length);
          if (detailData.length > 0) {
            var $ul_detail = $("<ul>").addClass("menu-sub-list");
            var $ul_detail_header = $("<ul>").addClass("menu-header-sub-list");
            var $li_detail_header = $("<li>").addClass("menu-item");
            var $text_detail_header = $("<span>")
              .addClass("menu-button")
              .text(`Nhóm nghiệp vụ ${groupItem.groupName} - ${item.unitName}`);
            $li_group.append($ul_detail);
            $ul_detail.append($ul_detail_header);
            $ul_detail_header.append($li_detail_header);
            $li_detail_header.append($text_detail_header);
            detailData.forEach(function (detailItem, detailIndex) {
              var $li_detail = $("<li>").addClass("menu-item menu-item-detail");
              var $button_detail = $("<button>")
                .append($("<i>").attr("data-feather", "chevron-right"))
                .addClass("menu-button menu-button-detail")
                .append(detailItem.detail);
              //   .append($("<i>").attr("data-feather", "chevron-right"))
              var $div = $("<div>")
                .addClass("button-dept")
                .append(detailItem.deptName);
              $li_group.append($ul_detail);
              $ul_detail.append($li_detail);
              $li_detail.append($button_detail);
              $li_detail.append($div);
            });
            feather.replace();
          }
        });
        feather.replace();
      }
    });
    feather.replace();
  });
  