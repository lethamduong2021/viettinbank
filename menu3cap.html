<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- <link rel="stylesheet" href="demo-files/demo.css"> -->
    <!-- <link rel="stylesheet" href="style.css"> -->
</head>
<style>
    img {
        display: block;
        max-width: 100%;
    }

    .container {
        width: 100%;
        height: 100%;

    }

    .block {
        display: flex;
        padding: 20px 30px;
        /* justify-content: space-between; */
    }

    .block>* {
        width: calc(25%-20px);
        min-height: 120px;
        background-color: #F7F8F9;
        border-radius: 8px;
        margin-left: 3rem;
        height: max-content;
        max-height: 610px;
    }

    /* .block>*:nth-child(3) {
        min-width: 35%;
    } */

    .unit-content,
    .group-content,
    .detail-content,
    .request-content {
        display: flex;
        flex-direction: column;
        padding: 15px 12px;
        padding-top: 0;

    }

    .request-content {
        align-items: flex-end;
    }

    .request-content>input {
        color: #fff;
        background-color: #409FD4;
        height: 44px;
        width: 100px;
        border-radius: 1.4rem;
        outline: none;
        border: none;
    }

    .unit-content.hidden,
    .group-content.hidden,
    .detail-content.hidden,
    .request-content.hidden {
        display: none;
    }

    .unit-block,
    .group-block,
    .detail-block {
        overflow: auto;
    }

    .unit-item {
        height: 60px;
        color: red;
        list-style: none;
        margin-left: 0.5rem
    }

    .hidden-dept {
        display: none;
    }

    /* tooltip */
    .tooltip {
        position: relative;
        display: inline-block;
        cursor: pointer;
    }

    .tooltip .hidden-dept {
        visibility: hidden;
        width: 120px;
        background-color: #000;
        color: #fff;
        text-align: center;
        border-radius: 6px;
        padding: 5px;
        position: absolute;
        z-index: 1;
        bottom: 125%;
        left: 50%;
        margin-left: -60px;
        opacity: 0;
        transition: opacity 0.3s;
    }

    .tooltip:hover .hidden-dept {
        visibility: visible;
        opacity: 1;
    }

    .unit-header,
    .group-header,
    .detail-header,
    .request-header {
        padding: 1.5rem 1.2rem;
        height: 3.6rem;
    }

    .header-content {
        display: flex;
        align-items: center;
    }

    .header-icon {
        color: #fff;
        padding: 1.2rem 1.2rem;
        border-radius: 0.8rem;
        height: 100%;
        margin-right: 1rem;
    }

    .header-icon::before {
        font-size: 12px;
    }

    .icon1 {
        background-color: #64CBF4;
    }

    .icon2 {
        background-color: #FF9F38;
    }

    .icon3 {
        background-color: #6C5DD3;
    }

    .icon4 {
        background-color: #F06A6A;
    }

    .header-text {
        height: 100%;
        display: flex;
        flex-direction: column;
        width: 90%;
        justify-content: space-between;
        /* height: 3.4rem; */
    }

    .header-text>*:first-child {
        font-weight: 500;
        font-size: 20px;
        line-height: 25px;
        color: #3E4954;
    }

    .header-collapse {}

    .unit-status {
        margin-right: 1rem;
    }

    .unit-status::before {
        color: #A3AED0
    }

    .unit-status.active::before {
        color: #6A81D5;
        scale: 1.5;
    }

    .unit-button {
        font-weight: 500;
        font-size: 14px;
        line-height: 3rem;
        border: none;
        background-color: #F7F8F9;
        color: #A3AED0
    }

    .unit-button.active {
        color: #6A81D5;
        font-weight: 600;
    }

    .radio-group,
    .radio-detail {
        padding: 13px 28px;
        box-shadow: 0px 2px 11px rgba(69, 65, 164, 0.06), 0px 4px 10px rgba(31, 37, 89, 0.07);
        border-radius: 16px;
        margin-bottom: 1rem;
        background-color: #fff;
    }

    .radio-group.active,
    .radio-detail.active {
        border: 1px solid #6A81D5
    }

    .radio-group>input[type="radio"],
    .radio-detail>input[type="radio"] {
        margin-right: 2rem;
        outline: none;
        border: 2px solid #FF0000
    }

    .radio-group>input[type="radio"] .active {}

    .radio-group>label,
    .radio-detail>label {
        font-weight: 400;
        font-size: 14px;
        line-height: 20px;
        color: #A8B3D2
    }

    .radio-group.active>label,
    .radio-detail.active>label {
        color: #6A81D5
    }

    .css-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    .mr-2{
        margin-right: 1rem;
    }

</style>
</head>

<body>
    <div class="container">
        <div class="block">
            <div class="unit-block">
                <div class="unit-header">
                    <div class="header-content">
                        <!-- <i class="fa-solid fa-house header-icon icon1"></i> -->
                        <!-- <span class="icon-alert header-icon icon1"></span> -->
                        <span class="mr-2"><img src="./img/khoi.svg" alt="" class="css-img"></span>
                        <div class="header-text text-unit">
                            <span>Chọn khối</span>
                            <span>Khối nghiệp vụ</span>
                        </div>
                        <i class="fa-solid fa-chevron-down"></i>
                    </div>
                </div>
                <ul class="unit-content">

                </ul>
            </div>
            <div class="group-block">
                <div class="unit-header">
                    <div class="header-content">
                        <span class="mr-2"><img src="./img/nhomnv.svg" alt="" class="css-img"></span>
                        <!-- <i class="fa-solid fa-house header-icon icon2"></i> -->
                        <div class="header-text text-group">
                            <span></span>
                        </div>
                        <i class="fa-solid fa-chevron-down"></i>
                    </div>
                </div>
                <div class="group-content">

                </div>
            </div>
            <div class="detail-block">
                <div class="unit-header">
                    <div class="header-content">
                        <span class="mr-2"><img src="./img/phongban.svg" alt="" class="css-img"></span>
                        <div class="header-text text-detail">
                            <span></span>
                        </div>
                        <i class="fa-solid fa-chevron-down"></i>
                    </div>
                </div>
                <ul class="detail-content">

                </ul>
            </div>
            <div class="request-block">
                <div class="unit-header">
                    <div class="header-content">
                        <span class="mr-2"><img src="./img/sendrequest.svg" alt="" class="css-img"></span>
                        <div class="header-text text-request">
                            <span>Gửi yêu cầu</span>
                        </div>
                        <i class="fa-solid fa-chevron-down"></i>
                    </div>
                </div>
                <ul class="request-content">
                </ul>
            </div>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.4.js"
        integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E=" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script>
        var data = [
            {
                unitName: "Khối KHDN",
                properties: [
                    {
                        groupName: "Hỗ trợ chung",
                        properties: [
                            {
                                deptName: "Phòng Khách hàng doanh nghiệp lớn",
                                detail: "Yêu cầu trình chủ trương tiếp cận khách hàng doanh nghiệp lớn ngoài địa bàn"
                            },
                            {
                                deptName: "Phòng Khách hàng doanh nghiệp lớn",
                                detail: "Yêu cầu trình chủ trương tiếp cập khách hàng doanh nghiệp lớn thuộc lĩnh vực hạn chế"
                            },
                            {
                                deptName: "Phòng Khách hàng doanh nghiệp lớn",
                                detail: "Yêu cầu giải đáp vướng mắc, làm rõ các nội dung liên quan đến chức năng nhiệm vụ của Phòng Khách hàng doanh nghiệp lớn"
                            },
                            {
                                deptName: "Phòng Khách hàng doanh nghiệp vừa và nhỏ",
                                detail: "Yêu cầu trình chủ trương tiếp cận khách hàng doanh nghiệp vừa và nhỏ ngoài địa bàn"
                            },
                            {
                                deptName: "Phòng Khách hàng doanh nghiệp vừa và nhỏ",
                                detail: "Yêu cầu trình chủ trương tiếp cập khách hàng doanh nghiệp vừa và nhỏ thuộc lĩnh vực hạn chế"
                            },
                            {
                                deptName: "Phòng Khách hàng doanh nghiệp vừa và nhỏ",
                                detail: "Yêu cầu giải đáp vướng mắc phát sinh trong công tác đẩy bán"
                            },
                            {
                                deptName: "Phòng Khách hàng FDI và Nguồn vốn quốc tế",
                                detail: "Yêu cầu giải đáp vướng mắc, làm rõ các nội dung liên quan đến chức năng nhiệm vụ của Phòng Khách hàng FDI và Nguồn vốn quốc tế"
                            },
                            {
                                deptName: "Phòng Thúc đẩy kinh doanh",
                                detail: "Yêu cầu xem xét tính khả thi về yêu cầu Marketing nội bộ"
                            },
                            {
                                deptName: "Phòng Thúc đẩy kinh doanh",
                                detail: "Yêu cầu giải đáp vướng mắc liên quan đến các Chương trình của KHDN (Chương trình khuyến mại, ưu đãi, chương trình động lực, thi đua thúc đẩy bán,…)"
                            },
                            {
                                deptName: "Phòng Thúc đẩy kinh doanh",
                                detail: "Yêu cầu phát triển mới, điều chỉnh, chào bán giải pháp tài chính đối với Khách hàng"
                            },
                            {
                                deptName: "Phòng Thúc đẩy kinh doanh",
                                detail: "Yêu cầu hướng dẫn xây dựng Account Plan cho KHTC tại CN"
                            },
                            {
                                deptName: "Phòng Phát triển giải pháp tài chính",
                                detail: "Yêu cầu xem xét tính khả thi của yêu cầu phát triển sản phẩm KHDN (Huy động vốn, TTTM, Tiền gửi, Tín dụng, Thanh toán và Quản lý dòng tiền,…)"
                            },
                            {
                                deptName: "Phòng Phát triển giải pháp tài chính",
                                detail: "Yêu cầu giải đáp vướng mắc liên quan đến SPDV của khối KHDN (Huy động vốn, TTTM, Tiền gửi, Tín dụng, Thanh toán và Quản lý dòng tiền ,…)"
                            },
                            {
                                deptName: "Phòng Phát triển giải pháp tài chính",
                                detail: "Yêu cầu giải đáp vướng mắc liên quan đến kênh giao dịch điện tử đã triển khai của khối KHDN"
                            },
                            {
                                deptName: "Phòng Phát triển giải pháp tài chính",
                                detail: "Yêu cầu hỗ trợ liên quan đến các kênh giao dịch điện tử dành cho KHDN (eFAST, ERP, H2H, API, SMS Banking,…)"
                            }, {
                                deptName: "Phòng Phát triển giải pháp tài chính",
                                detail: "Yêu cầu hỗ trợ tra soát kinh phí công đoàn "
                            },
                            {
                                deptName: "Phòng Kế hoạch và Quản lý thông tin khách hàng",
                                detail: "Yêu cầu giải đáp vướng mắc, làm rõ các nội dung liên quan đến chức năng nhiệm vụ của Phòng Kế hoạch và Quản lý thông tin khách hàng"
                            }
                        ]
                    },
                    {
                        groupName: "Ngoại lệ lãi suất",
                        properties: [
                            {
                                deptName: "Phòng Khách hàng",
                                detail: "Yêu cầu ngoại lệ lãi suất"
                            }
                        ]
                    },
                    {
                        groupName: "Xây dựng giải pháp tài chính (GPTC)",
                        properties: [
                            {
                                deptName: "Phòng Khách hàng",
                                detail: "Yêu cầu  Xây dựng giải pháp tài chính (GPTC)"
                            }
                        ]
                    }
                ]
            },
            {
                unitName: "Khối bán lẻ",
                properties: [
                    {
                        groupName: "Thanh toán",
                        properties: [
                            {
                                deptName: "Trung Tâm Thẻ - Phòng Kế toán Tổng hợp",
                                detail: "Nhờ thu, hoàn trả thẻ"
                            },
                            {
                                deptName: "Trung Tâm Thẻ - Phòng Kế toán Tổng hợp",
                                detail: "Báo cáo đơn vị chấp nhận thẻ"
                            },
                            {
                                deptName: "Trung Tâm Thẻ - Phòng Kế toán Tổng hợp",
                                detail: "Nghiệp vụ kế toán thẻ khác"
                            }
                        ]
                    },
                    {
                        groupName: "Quy trình chính sách sản phẩm và phí",
                        properties: [
                            {
                                deptName: "Phòng Phát triển sản phẩm bán lẻ",
                                detail: "Sản phẩm tín dụng bán lẻ"
                            },
                            {
                                deptName: "Phòng Phát triển sản phẩm bán lẻ",
                                detail: "Sản phẩm huy động vốn, phí và bảo hiểm "
                            },
                            {
                                deptName: "Trung Tâm Thẻ - Phòng NCTT&PTSP thẻ",
                                detail: "Sản phẩm thẻ - Trình ngoại lệ phí phát hành thẻ"
                            },
                            {
                                deptName: "Trung Tâm Thẻ - Phòng Vận hành",
                                detail: "Sản phẩm thẻ - Quy trình chính sách sản phẩm thẻ"
                            },
                            {
                                deptName: "Trung Tâm Thẻ - Phòng Vận hành",
                                detail: "Hỗ trợ nghiệp vụ thẻ"
                            },
                            {
                                deptName: "Phòng Ngân hàng số",
                                detail: "Dịch vụ eBank (bao gồm iPay/ BankPlus/ SMS tài khoản DDA)"
                            }
                        ]
                    },
                    {
                        groupName: "Quản lý rủi ro",
                        properties: [
                            {
                                deptName: "Phòng Quản lý rủi ro bán lẻ",
                                detail: "Quản lý rủi ro bán lẻ"
                            },
                            {
                                deptName: "Trung Tâm Thẻ - Phòng Vận hành",
                                detail: "Tra soát thừa thiếu quỹ ATM"
                            },
                            {
                                deptName: "Trung Tâm Thẻ - Phòng Quản lý rủi ro nghiệp vụ thẻ",
                                detail: "Tra soát thẻ TDQT"
                            }
                        ]
                    },
                    {
                        groupName: "Vận hành hệ thống",
                        properties: [
                            {
                                deptName: "Trung Tâm Thẻ - Phòng Vận hành",
                                detail: "Thiết bị đầu cuối: ATM, POS"
                            },
                            {
                                deptName: "Trung Tâm Thẻ - Phòng Vận hành",
                                detail: "Hệ thống: Fimi, ITC, IUC, Hóa đơn tự in"
                            },
                            {
                                deptName: "Trung Tâm Thẻ - Phòng Vận hành",
                                detail: "SMS Biến động số dư thẻ TDQT"
                            }
                        ]
                    },
                    {
                        groupName: "Công tác kinh doanh",
                        properties: [
                            {
                                deptName: "Phòng Kế hoạch và Quản lý tài chính bán lẻ",
                                detail: "Kế hoạch\chỉ tiêu KPI\Mạng lưới nhân sự"
                            },
                            {
                                deptName: "Phòng Kế hoạch và Quản lý tài chính bán lẻ",
                                detail: "Marketing bán lẻ"
                            },
                            {
                                deptName: "Phòng Phát triển kinh doanh bán lẻ",
                                detail: "Phát triển kinh doanh- Yêu cầu ngoại lệ về lãi suất"
                            },
                            {
                                deptName: "Phòng Phát triển kinh doanh bán lẻ",
                                detail: "Phát triển kinh doanh- Yêu cầu ngoại lệ về cơ chế điều kiện tín dụng"
                            },
                            {
                                deptName: "Phòng Phát triển kinh doanh bán lẻ",
                                detail: "Phát triển kinh doanh- Yêu cầu ngoại lệ khác"
                            },
                            {
                                deptName: "Phòng Phát triển kinh doanh bán lẻ",
                                detail: "Phát triển kinh doanh- Giải đáp thắc mắc về QĐ, QTr SPDV Bán lẻ"
                            },
                            {
                                deptName: "Trung Tâm Thẻ - Phòng Phát triển đối tác thẻ",
                                detail: "Doanh số thanh toán và kinh doanh thẻ"
                            }

                        ]
                    },

                ],
            },
            {
                unitName: "Khối nhân sự",
                properties: [
                    {
                        groupName: "Nhân sự",
                        properties: [
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Tuyển dụng"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Hợp đồng lao động"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Điều động"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Bổ nhiệm, bổ nhiệm lại"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Thôi giữ chức vụ, miễn nhiệm, từ chức"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Thôi điều hành, tạm đình chỉ công việc"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Thi đua khen thưởng"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Quy hoạch cán bộ"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Luân chuyển, chuyển đổi công việc"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Đào tạo"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "KPI"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Tiền lương"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Nghỉ hưu, nghỉ 1062"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Mạng lưới"
                            },
                            {
                                deptName: "Phòng Phát triển nhân sự",
                                detail: "Công tác Đảng, Đoàn"
                            }
                        ]
                    },
                    {
                        groupName: "Hỗ trợ chung",
                        properties: [
                            {
                                deptName: "Trường Đào tạo và phát triển nguồn nhân lực",
                                detail: "Yêu cầu xây dựng bài giảng elearning"
                            }
                        ]
                    }
                ]
            },
            {
                unitName: "Khối Vận hành",
                properties: [
                    {
                        groupName: "Hỗ trợ chung",
                        properties: [
                            {
                                deptName: "Trung tâm Tài trợ thương mại",
                                detail: "Yêu cầu giải đáp vướng mắc liên quan đến quy trình nghiệp vụ LC, nhờ thu nhập khẩu"
                            },
                            {
                                deptName: "Trung tâm Tài trợ thương mại",
                                detail: "Yêu cầu giải đáp vướng mắc liên quan đến quy trình nghiệp vụ bảo lãnh"
                            },
                            {
                                deptName: "Trung tâm Tài trợ thương mại",
                                detail: "Yêu cầu giải đáp vướng mắc liên quan đến quy trình nghiệp vụ bao thanh toán"
                            },
                            {
                                deptName: "Trung tâm Tài trợ thương mại",
                                detail: "Yêu cầu giải đáp vướng mắc liên quan đến quy trình nghiệp vụ LC, nhờ thu xuất khẩu và chiết khấu"
                            },
                            {
                                deptName: "Trung tâm Tài trợ thương mại",
                                detail: "Yêu cầu giải đáp vướng mắc liên quan đến quy trình nghiệp vụ chuyển tiền ngoại tệ"
                            },
                            {
                                deptName: "Trung tâm Tài trợ thương mại",
                                detail: "Yêu cầu giải đáp vướng mắc về các vấn đề liên quan đến nghiệp vụ Hỗ trợ tín dụng"
                            },
                            {
                                deptName: "Phòng Quản lý chất lượng",
                                detail: "Yêu cầu giải đáp vướng mắc liên quan đến công tác quản lý chất lượng"
                            },
                            {
                                deptName: "Phòng Quản lý chất lượng",
                                detail: "Cung cấp báo cáo SLA định kỳ"
                            },
                            {
                                deptName: "Phòng Quản lý chất lượng",
                                detail: "Cung cấp báo cáo QLCL định kỳ"
                            },
                            {
                                deptName: "Phòng Quản lý chất lượng",
                                detail: "Cung cấp báo cáo 5S định kỳ"
                            },
                        ]
                    },
                    {
                        groupName: "Hỗ trợ tác nghiệp & Quản trị tham số hệ thống",
                        properties: [
                            {
                                deptName: "Phòng QLHT và HTKD",
                                detail: "Yêu cầu hỗ trợ tác nghiệp"
                            },
                            {
                                deptName: "Phòng QLHT và HTKD",
                                detail: "Yêu cầu quản trị tham số hệ thống"
                            }
                        ]
                    },
                    {
                        groupName: "Hạch toán kế toán",
                        properties: [
                            {
                                deptName: "Phòng TQT VKD",
                                detail: "Kết chuyển trạng thái ngoại tệ"
                            },
                            {
                                deptName: "Phòng TQT VKD",
                                detail: "Giao dịch mua bán ngoại tệ trên hệ thống Vision FX, Murex"
                            },
                            {
                                deptName: "Phòng TQT VKD",
                                detail: "Giao dịch tương lai hàng hóa trên hệ thống Vision Commodity"
                            },
                            {
                                deptName: "Phòng TQT VKD",
                                detail: "Giao dịch hoán đổi lãi suất trên hệ thống Murex"
                            },
                        ]
                    },
                    {
                        groupName: "Quản lý tiền mặt",
                        properties: [
                            {
                                deptName: "Trung tâm Quản lý tiền mặt",
                                detail: "Yêu cầu điều chuyển tiền mặt giữa chi nhánh và trung tâm quản lý tiền mặt"
                            },
                            {
                                deptName: "Trung tâm Quản lý tiền mặt",
                                detail: "Xử lý giao dịch nghi ngờ"
                            },
                        ]
                    }
                ]
            },
            {
                unitName: "Khối Mua sắm & Quản lý tài sản",
                properties: [
                    {
                        groupName: "Dịch vụ tòa nhà",
                        properties: [
                            {
                                deptName: "Phòng Quản trị và dịch vụ tài sản",
                                detail: "Dịch vụ sửa chữa, khắc phục sự cố"
                            },
                            {
                                deptName: "Phòng Quản trị và dịch vụ tài sản",
                                detail: "Dịch vụ cung cấp VPP, CCDC, nước uống, đổ mực"
                            },
                            {
                                deptName: "Phòng Quản trị và dịch vụ tài sản",
                                detail: "Rà soát, phản hồi và cập nhật tiến độ thực hiện các đề xuất cải tiến"
                            }
                        ]
                    }
                ]
            },
            {
                unitName: "Khối Công nghệ thông tin",
                properties: [
                    {
                        groupName: "Hỗ trợ Công nghệ thông tin",
                        properties: [
                            {
                                deptName: "Service Desk",
                                detail: "Yêu cầu hỗ trợ CNTT"
                            }
                        ]
                    }
                ]
            },
            {
                unitName: "Khối Pháp chế tuân thủ",
                properties: [
                    {

                        groupName: "Hỗ trợ chung",
                        properties: [
                            {
                                deptName: "Phòng Quản lý tuân thủ",
                                detail: "Hỗ trợ giải đáp vướng mắc nghiệp vụ AML"
                            },
                            {
                                deptName: "Phòng Quản lý tuân thủ",
                                detail: "Hỗ trợ giải đáp về quy định NHCT về cung cấp thông tin khách hàng "
                            },
                            {
                                deptName: "Phòng Pháp chế",
                                detail: "Yêu cầu tư vấn vấn đề pháp lý cho đơn vị TSC"
                            },
                            {
                                deptName: "Phòng Pháp chế",
                                detail: "Yêu cầu tư vấn pháp lý liên quan đến hoạt động kinh doanh của chi nhánh"
                            }
                        ]
                    },
                    {
                        groupName: "Cung cấp thông tin khách hàng",
                        properties: [
                            {
                                deptName: "Phòng Quản lý tuân thủ",
                                detail: "Yêu cầu cung cấp thông tin khách hàng tại Trụ sở chính"
                            },
                            {
                                deptName: "Phòng Quản lý tuân thủ",
                                detail: "Yêu cầu cung cấp thông tin khách hàng tại Chi nhánh "
                            }
                        ]
                    },
                    {
                        groupName: "Công việc pháp lý khác",
                        properties: [
                            {
                                deptName: "Phòng Quản lý tuân thủ",
                                detail: "Yêu cầu cung cấp thông tin khách hàng tại Trụ sở chính"
                            },
                            {
                                deptName: "Phòng Quản lý tuân thủ",
                                detail: "Yêu cầu cung cấp thông tin khách hàng tại Chi nhánh "
                            }
                        ]
                    }
                ]
            },
            {
                unitName: "Khối Dữ liệu 2 cấp",
                level: 2,
                properties: [
                    {
                        groupName: "Hỗ trợ Dữ liệu 2a cấp",

                        properties: [
                            {
                                deptName: "Service Desk",
                                detail: "Yêu cầu hỗ trợ CNTT"
                            }
                        ]
                    },
                    {
                        groupName: "Hỗ trợ Dữ liệu 2b cấp",
                        properties: [
                            {
                                deptName: "Service Desk",
                                detail: "Yêu cầu hỗ trợ CNTT"
                            }
                        ]
                    }
                ]
            },
        ];
    </script>

    <script>
        $(document).ready(function () {
            var $unit = $('.unit-content');
            var icons = ["fa-solid fa-store","fa-solid fa-user-tie","fa-solid fa-id-card","fa-solid fa-gear","fa-solid fa-cart-plus","fa-solid fa-computer","fa-solid fa-layer-group"];
            data.forEach(function (item, index) {
                let $li = $("<li>").addClass("unit-item");
                let $button = $("<button>")
                    .addClass("unit-button")
                    .append(`${item.unitName}`);
                $unit.append($li);
                let icon = $('<i></i>');
                icon.addClass("unit-status");
                icon.addClass(icons[index] ?? "fa-solid fa-house");
                $li.append(icon);
                $li.append($button);
            });
            $('.group-block').hide();
            $('.detail-block').hide();
            $('.request-block').hide();
            function handleClickUnit() {
                $('.unit-item').click(function () {
                    $('.group-block').show();
                    $('.unit-status.active').removeClass('active');
                    $('.unit-button.active').removeClass('active');
                    $(this).find('i').addClass('active');
                    $(this).find('button').addClass('active');

                    $('.radio-group').remove();
                    $('.radio-detail').remove();
                    $('.submit').remove();
                    let unitName = $(this).find('button.unit-button').text();
                    $('.text-group span:nth-child(1)').text(unitName);
                    let groupData = data.filter(x => x.unitName === unitName)[0].properties;
                    let level = data.filter(x => x.unitName === unitName)[0].level;
                    let $group = $('.group-content');
                    groupData.map(function (item, index) {
                        let radioGroup = $('<input>').attr({
                            type: 'radio',
                            name: 'radioGroup',
                            id: `group-${index}`,
                            value: item.groupName
                        })
                        let label = $('<label>').text(item.groupName).attr('for', `group-${index}`);
                        let container = $('<div>').append(radioGroup, label).addClass('radio-group');
                        $group.append(container);
                    })
                    $('input[name=radioGroup]').on('change', function () {
                        handleRadioGroupChange(groupData, unitName, level);
                    });
                });
                function handleRadioGroupChange(groupData, unitName, level) {
                    // alert('1')
                    $('input[name=radioGroup]').parent().removeClass('active');
                    $('input[name=radioGroup]').parent().find('label').removeClass('active');
                    $('.detail-block').show();
                    $('.radio-detail').remove();
                    // $(this).parent().addClass('active');
                    console.log('this', $(this).prop('class'));
                    $('input[name=radioGroup]:checked').parent().addClass('active');
                    $('input[name=radioGroup]:checked').parent().find('label').addClass('active');
                    let groupName = $('input[name=radioGroup]:checked').val();
                    console.log('groupName', groupName);
                    $('.text-detail span:nth-child(1)').text(groupName);
                    console.log('level', level);
                    if (level == 2) {
                        $('.detail-block').hide();
                        $('.request-block').show();
                        $('.submit').remove();
                        let submitButton = $('<input>');
                        submitButton.attr({
                            type: 'submit',
                            class: 'submit'
                        });
                        $('.request-content').append(submitButton);
                        submitButton.on('click', function () {
                            alert(`${unitName}, ${groupName}`);
                        });
                    } else {
                        var detailData = groupData.filter(x => x.groupName === groupName)[0].properties;
                        let $detail = $('.detail-content');
                        detailData.map(function (item, index) {
                            let radioDetail = $('<input>').attr({
                                type: 'radio',
                                name: 'radioDetail',
                                id: `detail-${index}`,
                                value: item.detail
                            });
                            let label = $('<label>').text(item.detail).addClass('detail-label').attr('for', `detail-${index}`);
                            let container = $('<div>').append(radioDetail, label).addClass('radio-detail');

                            // Thông tin ẩn để xử lý hover
                            let hiddenLabel = $('<label>').text(item.deptName).addClass('hidden-dept');
                            container.append(hiddenLabel);

                            $detail.append(container);
                        })
                        $('input[name=radioDetail]').on('change', function () {
                            handleRadioDetailChange(detailData, unitName, groupName);
                        });
                    }
                    function handleRadioDetailChange(detailData, unitName, groupName) {
                        $('input[name=radioDetail]').parent().removeClass('active');
                        $('input[name=radioDetail]').parent().find('label').removeClass('active');
                        $('.request-block').show();
                        $('.submit').remove();
                        let detail = $('input[name=radioDetail]:checked').val();
                        $('input[name=radioDetail]:checked').parent().addClass('active');
                        $('input[name=radioDetail]:checked').parent().find('label').addClass('active');
                        let $request = $('.request-content');
                        console.log('parent: ', $request);
                        let submitButton = $('<input>');
                        submitButton.attr({
                            type: 'submit',
                            class: 'submit'
                        });

                        $request.append(submitButton);
                        submitButton.on('click', function () {
                            alert(`${unitName}, ${groupName},${detail}`);
                        });
                    }
                }
            };
            handleClickUnit();

            function toggleDisplay(content) {
                $('.unit-header').click(function () {
                    $(this).next(content).toggleClass('hidden');
                });
            }
            // toggle display
            toggleDisplay('.unit-content');
            toggleDisplay('.group-content');
            toggleDisplay('.detail-content');
            toggleDisplay('.request-content');
            // $('.unit-header').click(function () {
            //     $(this).next('.unit-content').toggleClass('hidden');
            // });
        })

    </script>
    <script>
        // collapse content

    </script>
</body>

</html>